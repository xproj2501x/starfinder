/**
 * Starfinder - Account Service
 * ===
 *
 * @module accountService
 */

////////////////////////////////////////////////////////////////////////////////
// Imports
////////////////////////////////////////////////////////////////////////////////
import { API_HOST, API_RESOURCES } from '../../constants';
import AjaxService from '../../services/ajax';

////////////////////////////////////////////////////////////////////////////////
// Definitions
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Class
////////////////////////////////////////////////////////////////////////////////
class AccountService {

  //////////////////////////////////////////////////////////////////////////////
  // Private Properties
  //////////////////////////////////////////////////////////////////////////////
  _ajaxService;

  //////////////////////////////////////////////////////////////////////////////
  // Public Properties
  //////////////////////////////////////////////////////////////////////////////

  constructor() {
    this._ajaxService = new AjaxService();
  }

  //////////////////////////////////////////////////////////////////////////////
  // Public Methods
  //////////////////////////////////////////////////////////////////////////////
  register(account) {
    let options = {
      url: API_HOST + API_RESOURCES.ACCOUNTS,
      headers: this._buildHeaders(),
      body: JSON.stringify(account)
    };

    return this._ajaxService.post(options)
      .then((data) => {
        console.log(data);
      }).catch((err) => {
        console.log(err);
      });
  }



  //////////////////////////////////////////////////////////////////////////////
  // Private Methods
  //////////////////////////////////////////////////////////////////////////////
  _buildHeaders(token) {
    let headers = {
      'Content-Type': 'application/json',
      'Accept': 'application/json'
    };
    return headers;
  }
}

////////////////////////////////////////////////////////////////////////////////
// Exports
////////////////////////////////////////////////////////////////////////////////
export default AccountService;
